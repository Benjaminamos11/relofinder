---
import { Image } from 'astro:assets';
import logoImg from '../../assets/logo.svg';
---

<header class="bg-white sticky top-0 z-50 shadow-sm w-full transition-all duration-300" id="main-header">
  <div class="container">
    <div class="flex justify-between items-center py-4">
      <a href="/" class="flex items-center space-x-2">
        <img 
          src="https://res.cloudinary.com/dphbnwjtx/image/upload/c_crop,w_800/v1747217885/background_removed_image_zyuAaozaRtKsPgHdZfl5_Q_1_edbalp.webp" 
          alt="ReloFinder.ch" 
          class="h-8 md:h-10"
        />
      </a>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex space-x-8">
        <a href="/services" class="text-accent-700 hover:text-primary-600 font-medium">Services</a>
        <a href="/companies" class="text-accent-700 hover:text-primary-600 font-medium">Companies</a>
        <a href="/regions" class="text-accent-700 hover:text-primary-600 font-medium">Regions</a>
        <a href="/blog" class="text-accent-700 hover:text-primary-600 font-medium">Blog</a>
        <a href="/contact" class="text-accent-700 hover:text-primary-600 font-medium">Contact</a>
      </nav>

      <!-- Language Selector -->
      <div class="hidden md:flex items-center space-x-4">
        <div class="relative">
          <select class="appearance-none bg-white border border-gray-200 rounded-lg px-3 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500">
            <option value="en">English</option>
            <option value="de">Deutsch</option>
            <option value="fr">Français</option>
            <option value="it">Italiano</option>
          </select>
          <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
            <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
              <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" />
            </svg>
          </div>
        </div>
        <a href="/login" class="btn-outline py-2 px-4 text-sm">Log In</a>
      </div>

      <!-- Mobile Menu Button -->
      <button class="md:hidden text-accent-800" id="menu-toggle" aria-label="Toggle menu">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Navigation -->
  <div class="md:hidden bg-white absolute w-full left-0 shadow-md transform -translate-y-full transition-transform duration-300 ease-in-out" id="mobile-menu">
    <div class="container py-4 space-y-3">
      <a href="/services" class="block text-accent-700 hover:text-primary-600 py-2 font-medium">Services</a>
      <a href="/companies" class="block text-accent-700 hover:text-primary-600 py-2 font-medium">Companies</a>
      <a href="/regions" class="block text-accent-700 hover:text-primary-600 py-2 font-medium">Regions</a>
      <a href="/blog" class="block text-accent-700 hover:text-primary-600 py-2 font-medium">Blog</a>
      <a href="/contact" class="block text-accent-700 hover:text-primary-600 py-2 font-medium">Contact</a>
      
      <div class="pt-3 border-t border-gray-200">
        <div class="flex items-center justify-between">
          <select class="appearance-none bg-white border border-gray-200 rounded-lg px-3 py-2 pr-8 text-sm focus:outline-none">
            <option value="en">English</option>
            <option value="de">Deutsch</option>
            <option value="fr">Français</option>
            <option value="it">Italiano</option>
          </select>
          <a href="/login" class="btn-outline py-2 px-4 text-sm">Log In</a>
        </div>
      </div>
    </div>
  </div>
</header>

<script>
  // Handle mobile menu toggle
  const menuToggle = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  const header = document.getElementById('main-header');
  
  menuToggle?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('-translate-y-full');
  });

  // Header scroll effect
  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) {
      header?.classList.add('py-2', 'shadow');
    } else {
      header?.classList.remove('py-2', 'shadow');
    }
  });
</script>