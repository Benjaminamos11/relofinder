---
import ServiceLayout from '../../layouts/ServiceLayout.astro';
import CompanyCard from '../../components/companies/CompanyCard.astro';
import { sendEmail } from '../../utils/email';

const title = 'Housing & Real Estate Services in Switzerland | ReloFinder.ch';
const description = 'Expert assistance with finding and securing your ideal home in Switzerland. Connect with trusted real estate and housing professionals.';

// Define service object
const service = {
  title: 'Housing & Real Estate Services',
  description: 'Find your perfect home in Switzerland with expert assistance from real estate professionals who understand expat needs.',
  icon: 'home'
};

// Sample companies offering housing services
const companies = [
  {
    id: 'relocation-experts',
    name: 'Swiss Relocation Experts',
    logo: 'https://images.pexels.com/photos/14936128/pexels-photo-14936128.jpeg?auto=compress&cs=tinysrgb&w=200',
    description: 'Full-service relocation agency with 15+ years of experience helping expats settle in Switzerland.',
    services: ['Housing Search', 'Immigration Support', 'School Search'],
    regions: ['Zürich', 'Basel', 'Geneva'],
    rating: 4.8,
    reviewCount: 245
  },
  {
    id: 'alpine-home',
    name: 'Alpine Home Finders',
    logo: 'https://images.pexels.com/photos/14936082/pexels-photo-14936082.jpeg?auto=compress&cs=tinysrgb&w=200',
    description: 'Boutique real estate agency specializing in finding rental and purchase properties for expats.',
    services: ['Rental Search', 'Property Purchase', 'Relocation Support'],
    regions: ['Zürich', 'Zug', 'Lucerne'],
    rating: 4.6,
    reviewCount: 156
  }
];

// Process steps
const steps = [
  {
    title: 'Initial Consultation',
    description: 'Discuss your requirements, preferences, and budget with our housing experts.',
    icon: 'chat'
  },
  {
    title: 'Property Search',
    description: 'We search and shortlist properties matching your criteria across Switzerland.',
    icon: 'search'
  },
  {
    title: 'Viewings',
    description: 'Arrange and accompany you on property viewings, providing local insights.',
    icon: 'home'
  },
  {
    title: 'Application Support',
    description: 'Help prepare and submit rental applications with required documentation.',
    icon: 'document'
  },
  {
    title: 'Contract Review',
    description: 'Review lease agreements and explain Swiss rental terms and conditions.',
    icon: 'check'
  },
  {
    title: 'Move-in Support',
    description: 'Assist with utilities setup, insurance, and property handover.',
    icon: 'key'
  }
];

// Key benefits
const benefits = [
  {
    title: 'Local Market Knowledge',
    description: 'Access to extensive property databases and market insights'
  },
  {
    title: 'Time Savings',
    description: 'Efficient property search and application process'
  },
  {
    title: 'Language Support',
    description: 'Communication with landlords and property managers'
  },
  {
    title: 'Legal Protection',
    description: 'Understanding your rights and Swiss rental regulations'
  }
];

// Key housing challenges for expats
const challenges = [
  "Competitive rental markets, especially in major cities",
  "Complex application processes and documentation requirements",
  "Language barriers when communicating with landlords",
  "Understanding Swiss rental laws and tenant rights",
  "Navigating differences in housing standards and practices"
];

// Swiss housing market facts
const marketFacts = [
  {
    figure: "1.1%",
    description: "Average vacancy rate across Switzerland"
  },
  {
    figure: "2-3 months",
    description: "Typical advance rent deposit required"
  },
  {
    figure: "3 months",
    description: "Standard notice period for terminating leases"
  },
  {
    figure: "60%+",
    description: "of Swiss residents are renters rather than owners"
  }
];
---

<ServiceLayout title={title} description={description} service={service}>
  <!-- Hero Banner with Key Message -->
  <section class="py-12 bg-gradient-to-r from-red-50 to-rose-50">
    <div class="container">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-4xl font-bold mb-6">Find Your Swiss <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-rose-600">Home</span></h2>
        <p class="text-xl text-accent-700 mb-8">
          Navigating the Swiss housing market can be challenging for expatriates. Our housing services connect you with professionals who understand your unique needs and the local market complexities.
        </p>
        <div class="flex flex-wrap justify-center gap-4">
          <a href="#process" class="btn btn-primary px-6 py-3 rounded-lg bg-gradient-to-r from-red-600 to-rose-600 text-white font-medium hover:shadow-lg transition-all duration-300">
            Our Process
          </a>
          <a href="#contact" class="btn btn-secondary px-6 py-3 rounded-lg border-2 border-red-600 text-red-600 font-medium hover:bg-red-50 transition-all duration-300">
            Get Expert Help
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Housing Market Challenges -->
  <section class="section bg-white py-16">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center mb-12">
        <h2 class="text-3xl font-bold mb-4">Challenges Expatriates <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-rose-600">Face</span></h2>
        <p class="text-lg text-accent-600">
          Finding housing in Switzerland presents unique challenges for newcomers. We help you overcome these hurdles.
        </p>
      </div>

      <div class="bg-gray-50 rounded-2xl p-8 shadow-sm">
        <ul class="space-y-4">
          {challenges.map(challenge => (
            <li class="flex items-start">
              <span class="flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-r from-red-600 to-rose-600 text-white flex items-center justify-center mr-3 mt-0.5">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                </svg>
              </span>
              <span class="text-accent-700">{challenge}</span>
            </li>
          ))}
        </ul>
      </div>

      <!-- Swiss Housing Market Facts -->
      <div class="mt-12 grid grid-cols-2 md:grid-cols-4 gap-6">
        {marketFacts.map(fact => (
          <div class="bg-white rounded-xl p-6 text-center shadow-sm hover:shadow-md transition-all duration-300">
            <div class="text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-rose-600 mb-2">
              {fact.figure}
            </div>
            <p class="text-accent-600 text-sm">{fact.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Key Benefits -->
  <section class="section bg-white">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center mb-12">
        <h2 class="text-3xl font-bold mb-4">Why Use Our Housing <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-rose-600">Services</span></h2>
        <p class="text-lg text-accent-600">
          Expert assistance to make your housing search in Switzerland smooth and successful.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        {benefits.map(benefit => (
          <div class="card p-6 text-center hover:shadow-lg transition-all duration-300 border border-gray-100 rounded-xl relative overflow-hidden group">
            <!-- Subtle Gradient Border Effect -->
            <div class="absolute inset-0 rounded-xl p-0.5 bg-gradient-to-r from-red-600 to-rose-600 opacity-0 group-hover:opacity-100 transition-all duration-300"></div>
            <div class="relative bg-white rounded-xl p-5">
              <div class="w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center bg-gradient-to-r from-red-600 to-rose-600 shadow-md transition-all duration-300 group-hover:scale-110">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <h3 class="text-xl font-semibold mb-3">{benefit.title}</h3>
              <p class="text-accent-600">{benefit.description}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Process Steps -->
  <section id="process" class="section bg-accent-50">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center mb-12">
        <h2 class="text-3xl font-bold mb-4">Our Housing Search <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-rose-600">Process</span></h2>
        <p class="text-lg text-accent-600">
          A structured approach to finding your ideal home in Switzerland.
        </p>
      </div>

      <div class="relative">
        <!-- Connection Line -->
        <div class="absolute hidden md:block left-1/2 top-0 bottom-0 w-1 bg-gradient-to-b from-red-600 to-rose-600 transform -translate-x-1/2 z-0"></div>
        
        <!-- Steps -->
        <div class="space-y-12 relative z-10">
          {steps.map((step, index) => (
            <div class="md:flex items-center">
              <!-- Step Number and Content -->
              <div class={`md:w-1/2 ${index % 2 === 0 ? 'md:pr-12 md:text-right' : 'md:pl-12 md:order-2'}`}>
                <div class="bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-all duration-300">
                  <h3 class="text-xl font-semibold mb-3">{step.title}</h3>
                  <p class="text-accent-600">{step.description}</p>
                </div>
              </div>
              
              <!-- Circle Icon -->
              <div class="hidden md:flex w-14 h-14 rounded-full bg-gradient-to-r from-red-600 to-rose-600 text-white items-center justify-center text-2xl font-bold absolute left-1/2 transform -translate-x-1/2 shadow-md z-20">
                {index + 1}
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Companies -->
  <section class="section bg-white">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center mb-12">
        <h2 class="text-3xl font-bold mb-4">Trusted Housing <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-rose-600">Partners</span></h2>
        <p class="text-lg text-accent-600">
          Connect with experienced real estate professionals and relocation experts.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {companies.map(company => (
          <CompanyCard company={company} />
        ))}
      </div>

      <div class="mt-12 text-center">
        <a href="/companies" class="btn-primary px-6 py-3 rounded-lg bg-gradient-to-r from-red-600 to-rose-600 text-white font-medium inline-flex items-center hover:shadow-lg transition-all duration-300">
          View All Companies
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="section bg-accent-50">
    <div class="container">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold mb-8 text-center">Frequently Asked <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-rose-600">Questions</span></h2>
        
        <div class="space-y-6">
          <div class="card p-6 hover:shadow-md transition-all duration-300">
            <h3 class="text-xl font-semibold mb-3">How long does it typically take to find housing in Switzerland?</h3>
            <p class="text-accent-600">
              The timeline can vary depending on location and requirements, but typically takes 4-8 weeks. Popular areas like Zürich and Geneva may take longer due to high demand.
            </p>
          </div>
          
          <div class="card p-6 hover:shadow-md transition-all duration-300">
            <h3 class="text-xl font-semibold mb-3">What documents do I need for a rental application?</h3>
            <p class="text-accent-600">
              Common requirements include employment contract, salary statements, residence permit, credit report (if available), and references. Our housing experts will help you prepare all necessary documentation.
            </p>
          </div>
          
          <div class="card p-6 hover:shadow-md transition-all duration-300">
            <h3 class="text-xl font-semibold mb-3">Can I rent property without being in Switzerland?</h3>
            <p class="text-accent-600">
              While possible, it's challenging to secure housing remotely. Many landlords prefer meeting tenants in person. Our relocation specialists can represent you during property viewings and help secure temporary accommodation for your arrival.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact CTA -->
  <section id="contact" class="py-16 bg-accent-50">
    <div class="container">
      <div class="bg-gradient-to-r from-red-600 to-rose-600 rounded-2xl shadow-xl overflow-hidden">
        <div class="grid grid-cols-1 md:grid-cols-2">
          <div class="p-8 md:p-12 flex items-center">
            <div class="text-white max-w-lg">
              <h2 class="text-2xl md:text-3xl font-bold mb-4">Ready to find your Swiss home?</h2>
              <p class="text-white/90 mb-8">
                Connect with our expert team to discuss your specific housing needs and receive personalized recommendations.
              </p>
              <a href="/contact" class="inline-flex items-center px-6 py-3 rounded-lg bg-white text-red-600 font-semibold hover:bg-white/90 transition-all duration-300">
                Schedule a Free Consultation
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                </svg>
              </a>
            </div>
          </div>
          <div class="hidden md:block relative">
            <img 
              src="https://images.pexels.com/photos/1546166/pexels-photo-1546166.jpeg?auto=compress&cs=tinysrgb&w=800" 
              alt="Swiss home" 
              class="w-full h-full object-cover"
            />
          </div>
        </div>
      </div>
    </div>
  </section>
</ServiceLayout>